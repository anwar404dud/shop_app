

<!-- navbar.html -->
{% set customer_id = session.get('customer_id') %}
{% set shop_id = session.get('shop_id') %}
<nav class="bg-gray-900 text-white shadow sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">
      <a href="/" class="text-xl font-bold">🛍️ Multi-Shop</a>
      <div class="flex space-x-4 items-center">
        <a href="/" class="hover:text-yellow-300">🏠 Home</a>
        <a href="/shops" class="hover:text-yellow-300">🛒 Shops</a>

        <!-- {% if customer_id %}
          <div class="relative">
            <a href="/cart" class="hover:text-yellow-300">🛍️ Cart</a>
            <span class="absolute -top-2 -right-3 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full animate-bounce">
              {{ get_cart_count() }}
            </span>
          </div> -->
        {% set cart_count = session.get('cart_count', 0) %}
          <div class="relative">
            <a href="{{ url_for('view_cart') }}" class="hover:text-yellow-300">🛒 Cart</a>
            {% if cart_count > 0 %}
              <span class="absolute -top-2 -right-3 bg-red-600 text-white text-xs px-2 py-0.5 rounded-full animate-bounce">
                {{ cart_count }}
              </span>
            {% endif %}
          </div>

          <a href="/orders" class="hover:text-yellow-300">📦 Orders</a>
          <a href="/customer/logout" class="text-red-400 hover:text-red-600">🚪 Logout</a>

        {% elif shop_id %}
          <a href="/shop/dashboard" class="hover:text-yellow-300">📊 Shop Dashboard</a>
          <a href="/shop/logout" class="text-red-400 hover:text-red-600">🚪 Logout</a>

        {% else %}
          <a href="/customer/login" class="hover:text-yellow-300">🔑 Customer Login</a>
          <a href="/shop/login" class="hover:text-yellow-300">🏬 Shop Login</a>
        {% endif %}
        <!-- {% set cart_count = session.get('cart_count', 0) %}
          <a href="{{ url_for('view_cart') }}">
            🛒 Cart <span class="bg-red-500 text-white text-xs px-2 rounded-full">{{ cart_count }}</span>
          </a> -->

      </div>
    </div>
  </div>
</nav>

